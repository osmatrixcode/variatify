// //script that sets playback rate to 1.5x (when post to console devtools at spotify.com)
// //we will use this as a base for this coding project

// // Keep track of the currently active observer
// let currentObserver = null;

// // Store the original playbackRate descriptor
// const originalPlaybackRateDescriptor = Object.getOwnPropertyDescriptor(
//   HTMLMediaElement.prototype,
//   "playbackRate"
// );

// function setPlaybackProperties(rate, preservePitch) {
//   // Disconnect any previous observer
//   if (currentObserver) {
//     currentObserver.disconnect();
//     console.log("Tunevo: Disconnected previous observer.");
//   }

//   // Override the playbackRate setter
//   Object.defineProperty(HTMLMediaElement.prototype, "playbackRate", {
//     get() {
//       return originalPlaybackRateDescriptor.get.call(this);
//     },
//     set(value) {
//       // We force the value to our desired rate, ignoring what Spotify tries to set.
//       console.log(`üéµ Tunevo forcing playbackRate = ${rate} (Spotify tried to set ${value})`);
//       originalPlaybackRateDescriptor.set.call(this, rate);
//     },
//     configurable: true, // This is crucial to allow us to re-define it later
//   });

//   // This function sets the pitch on all media elements
//   const setPitchOnElements = () => {
//     document.querySelectorAll("audio, video").forEach((el) => {
//       if ("preservesPitch" in el) {
//         // Aggressively set the property every time, regardless of its current value.
//         // This helps combat frameworks that might reset the audio engine's state
//         // without changing the property itself.
//         console.log(
//           `üîä Tunevo: Forcibly setting preservesPitch = ${preservePitch}. (current: ${el.preservesPitch})`
//         );
//         el.preservesPitch = preservePitch;
//       }
//     });
//   };

//   // Run it once immediately
//   setPitchOnElements();

//   // Create a new observer to watch for new media elements
//   currentObserver = new MutationObserver(() => {
//     console.log("Tunevo: Mutation detected, re-applying pitch settings.");
//     setPitchOnElements();
//   });

//   // Start observing
//   currentObserver.observe(document.body, {
//     childList: true,
//     subtree: true,
//   });

//   console.log(`‚úÖ Tunevo: Playback properties set. Rate: ${rate}, Preserve Pitch: ${preservePitch}`);
// }


// function speedUp() {
//   console.log("üöÄ Switching to speedUp mode...");
//   setPlaybackProperties(1.25, false);
// }

// function slowedDown() {
//   console.log("üê¢ Switching to slowedDown mode...");
//   setPlaybackProperties(0.8, false);
// }

// function normalSpeed() {
//   console.log("‚úÖ Switching to normalSpeed mode...");
//   setPlaybackProperties(1.0, true);
// }

// // Actually run one of the functions when the script loads
// console.log("üéß Tunevo loaded! Starting speedUp mode...");
// speedUp();
// Tunevo Improved Playback Script

// Tunevo: Hardened Version Based on look_at_works.js


